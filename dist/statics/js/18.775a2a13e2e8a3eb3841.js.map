{"version":3,"sources":["webpack:///src/pages/need.vue","webpack:///./src/pages/need.vue?3e5f","webpack:///./src/pages/need.vue?3d8b"],"names":["need","name","components","TopNav","data","priceType","serverArr","otherList","menutext","mounted","this","getOther","localStorage","getItem","JSON","parse","methods","priceTypeChange","e","obj","setItem","stringify_default","serverArrHandler","map","item","sitem","seqId","checked","getPlatformHandler","$router","push","_this","headSeqId","attachType","$api","carStyleDetFindMap","then","result","code","list","keys_default","forEach","value","o","keyValue","needHandler","platform","goodwidth","$toast","goodheight","goodsend","goodreceive","pages_need","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","menu","_v","checked-color","on","change","model","callback","$$v","expression","click","color","size","_l","index","key","_s","catItem","class","price","remarks","_e","type","round","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"statics/js/18.775a2a13e2e8a3eb3841.js?v=1604380012532","sourcesContent":["<template>\r\n  <div class=\"need\">\r\n      <TopNav :menu=\"menutext\"/>\r\n    <div class=\"needtitle\">\r\n      计价方式\r\n    </div>\r\n    <div class=\"needprice\">\r\n      <van-radio-group\r\n        v-model=\"priceType\"\r\n        checked-color=\"#28ae3a\"\r\n        @change=\"priceTypeChange\"\r\n      >\r\n        <van-radio name=\"STANDARD\" @click=\"getPlatformHandler\" >\r\n          <div class=\"payitem\">\r\n            <span class=\"payname\">平台标准计价</span>\r\n            <van-icon name=\"warning-o\" color=\"#333333\" size=\"18\"/>\r\n          </div>\r\n        </van-radio>\r\n        <van-radio name=\"DISCUSS\">\r\n          <div class=\"payitem\">\r\n            <span class=\"payname\">与司机协商计划</span>\r\n          </div>\r\n        </van-radio>\r\n      </van-radio-group>\r\n    </div>\r\n    <div class=\"otherwrap\" v-if=\"otherList.length\">\r\n      <div class=\"needtitle needtitlefix\">\r\n        其他服务\r\n      </div>\r\n      <van-checkbox-group v-model=\"serverArr\" @change=\"serverArrHandler\">\r\n        <van-checkbox :name=\"item.seqId\"  checked-color=\"#28ae3a\" v-for=\"(item,index) in otherList\" :key=\"index\">\r\n          <div class=\"severitem\">\r\n            <span>{{item.catItem}}</span>\r\n            <div :class=\"['fee',item.price == 0 ? 'gray': '']\">\r\n              {{item.remarks}}\r\n            </div>\r\n          </div>\r\n        </van-checkbox>\r\n      </van-checkbox-group>\r\n    </div>\r\n    <div class=\"fixedbtn\">\r\n      <van-button type=\"primary\" color=\"#28ae3a\" round block size=\"small\" @click=\"needHandler\">确定</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopNav from '@/components/topnav.vue'\r\nexport default {\r\n  name: \"Need\",\r\n  components:{\r\n    TopNav\r\n  },\r\n  data() {\r\n    return {\r\n      priceType:\"DISCUSS\",\r\n      serverArr:[],\r\n      otherList:[],\r\n      menutext:'额外需求'\r\n    };\r\n  },\r\n  mounted(){\r\n    this.getOther()\r\n    var need = localStorage.getItem('need')\r\n    if(need){\r\n      need = JSON.parse(need)\r\n      this.priceType = need.priceType\r\n    }\r\n  },\r\n  methods: {\r\n    priceTypeChange(e){\r\n      var obj = {}\r\n      obj.priceType = e\r\n      localStorage.setItem('need',JSON.stringify(obj))\r\n    },\r\n    serverArrHandler(e){\r\n      localStorage.setItem('serverArr',JSON.stringify(e))\r\n      var otherList = localStorage.getItem('otherList')\r\n      if(otherList){\r\n        otherList = JSON.parse(otherList)\r\n        otherList.map((item) => {\r\n           e.map((sitem) => {\r\n             if(sitem == item.seqId){\r\n               item.checked = true\r\n             }\r\n           })\r\n        })\r\n        localStorage.setItem('serverArr',JSON.stringify(otherList))\r\n      }\r\n    },\r\n    getPlatformHandler(){\r\n       this.$router.push('/platformstandard')\r\n    },\r\n    getOther(){\r\n      var data = {\r\n        headSeqId:JSON.parse(localStorage.getItem('cartObject')).seqId,\r\n        attachType:'OTHER'\r\n      }\r\n      this.$api.carStyleDetFindMap(data).then((result)=>{\r\n        if(result.code == 200){\r\n          var obj = result.data\r\n          var list = []\r\n          Object.keys(obj).forEach((value)=>{\r\n            var o = obj[value][0]\r\n            o.keyValue = value\r\n            o.checked = false\r\n            list.push(o)\r\n          })\r\n          this.otherList = list\r\n          var serverArr = localStorage.getItem('serverArr')\r\n          if(serverArr){\r\n            serverArr = JSON.parse(serverArr)\r\n            this.otherList.map((item) => {\r\n              serverArr.map((sitem) => {\r\n                if(item.seqId == sitem){\r\n                  item.checked = true\r\n                }\r\n              })\r\n            })\r\n            localStorage.setItem('otherList',JSON.stringify(this.otherList))\r\n            this.serverArr = serverArr\r\n          }else{\r\n            localStorage.setItem('otherList',JSON.stringify(this.otherList))\r\n          }\r\n        }\r\n      })\r\n    },\r\n    needHandler(e){\r\n        if(this.priceType == 'STANDARD'){\r\n          var platform = localStorage.getItem('platform')\r\n          if(platform){\r\n            platform = JSON.parse(platform)\r\n            if(!platform.goodwidth){\r\n              return this.$toast('请选择货物最长')\r\n            }\r\n            if(!platform.goodheight){\r\n              return this.$toast('请选择货物最高')\r\n            }\r\n            if(!platform.goodsend){\r\n              return this.$toast('请选择搬运楼层发货地')\r\n            }\r\n            if(!platform.goodreceive){\r\n              return this.$toast('请选择搬运楼层收货地')\r\n            }\r\n          }\r\n\r\n        }\r\n        this.$router.push('/confirmorder')\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.need {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n  background: #f5f6f7;\r\n  padding:0 30px 30px 30px;\r\n  box-sizing: border-box;\r\n  .otherwrap{\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .needtitle{\r\n    font-size: 18px;\r\n    color:#999999;\r\n    margin-top: 30px;\r\n  }\r\n  .needtitlefix{\r\n    margin-bottom: 30px;\r\n  }\r\n  .needprice{\r\n    width:100%;\r\n    min-height: 100px;\r\n    background:white;\r\n    border-radius: 20px;\r\n    overflow: hidden;\r\n    padding:0 30px;\r\n    box-sizing: border-box;\r\n    margin-top:20px;\r\n  }\r\n  /deep/ .van-radio{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    border-bottom: 1px solid #f5f6f7;\r\n  }\r\n  /deep/ .van-radio__label {\r\n    display: flex;\r\n    flex:1;\r\n    margin-left:0px;\r\n    .payitem {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      flex:1;\r\n      height: 100px;\r\n      .payname {\r\n        font-size: 20px;\r\n        color: #333333;\r\n        margin-right:20px;\r\n      }\r\n    }\r\n  }\r\n  /deep/ .van-checkbox-group{\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: white;\r\n    border-radius: 20px;\r\n    overflow: hidden;\r\n  }\r\n  /deep/ .van-checkbox{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    padding:0 30px;\r\n    box-sizing: border-box;\r\n  }\r\n  /deep/ .van-checkbox__label{\r\n    flex:1;\r\n    margin-left:0px!important;\r\n    .severitem{\r\n      display: flex;\r\n      flex-direction: row;\r\n      height:100px;\r\n      align-items: center;\r\n      font-size: 18px;\r\n      color:#333333;\r\n      span{\r\n        margin-right:20px;\r\n      }\r\n      .fee{\r\n        height:40px;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        padding-left:20px;\r\n        padding-right:20px;\r\n        border-radius: 20px;\r\n        border:1px solid #ff561e;\r\n        color: #ff561e;\r\n        background:#ffeee8;\r\n        font-size: 24px;\r\n      }\r\n      .gray{\r\n        border:1px solid #888888;\r\n        background:white;\r\n        color:#888888;\r\n      }\r\n    }\r\n  }\r\n  .fixedbtn{\r\n    display: flex;\r\n    padding:0 30px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    box-sizing: border-box;\r\n    width:100%;\r\n    height:100px;\r\n    position: fixed;\r\n    left:0;\r\n    bottom: 0;\r\n    z-index: 2000;\r\n    background: white;\r\n  }\r\n  /deep/ .van-button--small{\r\n    width:100%;\r\n    height:80px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/need.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"need\"},[_c('TopNav',{attrs:{\"menu\":_vm.menutext}}),_vm._v(\" \"),_c('div',{staticClass:\"needtitle\"},[_vm._v(\"\\n    计价方式\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"needprice\"},[_c('van-radio-group',{attrs:{\"checked-color\":\"#28ae3a\"},on:{\"change\":_vm.priceTypeChange},model:{value:(_vm.priceType),callback:function ($$v) {_vm.priceType=$$v},expression:\"priceType\"}},[_c('van-radio',{attrs:{\"name\":\"STANDARD\"},on:{\"click\":_vm.getPlatformHandler}},[_c('div',{staticClass:\"payitem\"},[_c('span',{staticClass:\"payname\"},[_vm._v(\"平台标准计价\")]),_vm._v(\" \"),_c('van-icon',{attrs:{\"name\":\"warning-o\",\"color\":\"#333333\",\"size\":\"18\"}})],1)]),_vm._v(\" \"),_c('van-radio',{attrs:{\"name\":\"DISCUSS\"}},[_c('div',{staticClass:\"payitem\"},[_c('span',{staticClass:\"payname\"},[_vm._v(\"与司机协商计划\")])])])],1)],1),_vm._v(\" \"),(_vm.otherList.length)?_c('div',{staticClass:\"otherwrap\"},[_c('div',{staticClass:\"needtitle needtitlefix\"},[_vm._v(\"\\n      其他服务\\n    \")]),_vm._v(\" \"),_c('van-checkbox-group',{on:{\"change\":_vm.serverArrHandler},model:{value:(_vm.serverArr),callback:function ($$v) {_vm.serverArr=$$v},expression:\"serverArr\"}},_vm._l((_vm.otherList),function(item,index){return _c('van-checkbox',{key:index,attrs:{\"name\":item.seqId,\"checked-color\":\"#28ae3a\"}},[_c('div',{staticClass:\"severitem\"},[_c('span',[_vm._v(_vm._s(item.catItem))]),_vm._v(\" \"),_c('div',{class:['fee',item.price == 0 ? 'gray': '']},[_vm._v(\"\\n            \"+_vm._s(item.remarks)+\"\\n          \")])])])}),1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"fixedbtn\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"#28ae3a\",\"round\":\"\",\"block\":\"\",\"size\":\"small\"},on:{\"click\":_vm.needHandler}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d529fac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/need.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d529fac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./need.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./need.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./need.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d529fac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./need.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d529fac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/need.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}