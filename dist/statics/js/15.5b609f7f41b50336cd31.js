webpackJsonp([15],{Ox9e:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("fZjL"),i=e.n(a),n=e("mvHQ"),r=e.n(n),l={name:"Platformstandard",components:{TopNav:e("Hu0/").a},data:function(){return{menutext:"平台标准计价",tabIndex:1,platform:{attachType:"STAND1",goodwidth:"",goodwidthobj:{},goodheight:"",goodheightobj:{},goodsend:"",goodsendobj:{},goodreceive:"",goodreceiveobj:{},goodnumber:1,attachPriceObj:{}},minNumber:0,unitshow:!1,flag:1,columns:[],unitText:"选择楼层",goodWidthList:[],goodHeightList:[],housefloorList:[],cartObject:{}}},mounted:function(){this.getOther(!0,this.platform.attachType);var t=localStorage.getItem("platform");t&&(this.platform=JSON.parse(t));var o=localStorage.getItem("large_goods");o&&(o=JSON.parse(o),this.platform.goodnumber=o.total,localStorage.setItem("platform",r()(this.platform)));var e=localStorage.getItem("cartObject");e&&(this.cartObject=JSON.parse(e))},methods:{getOther:function(t,o){var e=this,a={headSeqId:JSON.parse(localStorage.getItem("cartObject")).seqId,attachType:o};this.$api.carStyleDetFindMap(a).then(function(t){if(200==t.code){var o=t.data,a=[],n=[],l=[],s={};i()(o).forEach(function(t){"货物最长"==t?(a=o[t]).map(function(t){t.text=t.catItem+(t.price?"  ¥"+t.price:"免费")}):"货物最高"==t?(n=o[t]).map(function(t){t.text=t.catItem+(t.price?"  ¥"+t.price:"免费")}):"楼层"==t?(l=o[t]).map(function(t){t.text=t.remarks+(t.price?"  ¥"+t.price:"免费")}):"基础帮运费"==t&&o[t]&&(s=o[t][0])}),e.goodWidthList=a,e.goodHeightList=n,e.housefloorList=l,e.platform.attachPriceObj=s,localStorage.setItem("platform",r()(e.platform))}})},tabHandler:function(t,o){this.tabIndex=t,this.platform.attachType=o,this.platform={attachType:o,goodwidth:"",goodwidthobj:{},goodheight:"",goodheightobj:{},goodsend:"",goodsendobj:{},goodreceive:"",goodreceiveobj:{},goodnumber:1,attachPriceObj:{}},localStorage.setItem("platform",r()(this.platform)),this.goodWidthList=[],this.goodHeightList=[],this.housefloorList=[],this.getOther(!0,this.platform.attachType)},itemHandler:function(t){"goodsend"==t?(this.flag=1,this.unitshow=!0,this.unitText="选择楼层",this.columns=this.housefloorList):"goodreceive"==t?(this.flag=2,this.unitshow=!0,this.unitText="选择楼层",this.columns=this.housefloorList):"goodrule"==t?this.$router.push({path:"/accountingrules"}):"goodwidth"==t?(this.flag=3,this.unitText="选择货物长度",this.unitshow=!0,this.columns=this.goodWidthList):"goodheight"==t&&(this.flag=4,this.unitText="选择货物高度",this.unitshow=!0,this.columns=this.goodHeightList)},largeHandler:function(){},needHandler:function(){localStorage.setItem("platform",r()(this.platform)),this.$router.push("/need")},cancelHandler:function(){this.unitshow=!1},confirmHandler:function(t){1==this.flag?(this.platform.goodsend=t.text,this.platform.goodsendobj=t,localStorage.setItem("platform",r()(this.platform))):2==this.flag?(this.platform.goodreceive=t.text,this.platform.goodreceiveobj=t,localStorage.setItem("platform",r()(this.platform))):3==this.flag?(this.platform.goodwidth=t.text,this.platform.goodwidthobj=t,localStorage.setItem("platform",r()(this.platform))):4==this.flag&&(this.platform.goodheight=t.text,this.platform.goodheightobj=t,localStorage.setItem("platform",r()(this.platform))),this.unitshow=!1}}},s={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"platformstandard"},[e("TopNav",{attrs:{menu:t.menutext}}),t._v(" "),e("div",{staticClass:"tabnav"},[e("div",{class:["tabitem",1==t.tabIndex?"active":""],on:{click:function(o){return t.tabHandler(1,"STAND1")}}},[t._v("\n      整车\n    ")]),t._v(" "),e("div",{class:["tabitem",2==t.tabIndex?"active":""],on:{click:function(o){return t.tabHandler(2,"STAND2")}}},[t._v("\n      半车\n    ")]),t._v(" "),e("div",{class:["tabitem",3==t.tabIndex?"active":""],on:{click:function(o){return t.tabHandler(3,"STAND3")}}},[t._v("\n      小件\n    ")])]),t._v(" "),e("div",{staticClass:"wrapp"},[e("div",{staticClass:"carinfo"},[e("img",{staticClass:"carico",attrs:{src:t.cartObject.picUrl}}),t._v(" "),e("div",{staticClass:"des"},[e("div",{staticClass:"dd"},[t._v("\n          载重："+t._s(t.cartObject.carCapacity)+"公斤\n        ")]),t._v(" "),e("div",{staticClass:"dd"},[t._v("\n          载贷体积："+t._s(t.cartObject.carVolume)+"方\n        ")])])]),t._v(" "),e("div",{staticClass:"htitle"},[t._v("\n      货物大小\n    ")]),t._v(" "),e("van-cell-group",[e("van-field",{attrs:{label:"货物最长","input-align":"right",readonly:"",placeholder:"请选择","right-icon":"arrow"},on:{click:function(o){return t.itemHandler("goodwidth")}},model:{value:t.platform.goodwidth,callback:function(o){t.$set(t.platform,"goodwidth",o)},expression:"platform.goodwidth"}}),t._v(" "),e("van-field",{attrs:{label:"货物最高","input-align":"right",readonly:"",placeholder:"请选择","right-icon":"arrow"},on:{click:function(o){return t.itemHandler("goodheight")}},model:{value:t.platform.goodheight,callback:function(o){t.$set(t.platform,"goodheight",o)},expression:"platform.goodheight"}})],1),t._v(" "),e("div",{staticClass:"htitle"},[t._v("\n      搬运楼层\n    ")]),t._v(" "),e("van-cell-group",[e("van-field",{attrs:{label:"发货地","input-align":"right",readonly:"",placeholder:"请选择","right-icon":"arrow"},on:{click:function(o){return t.itemHandler("goodsend")}},model:{value:t.platform.goodsend,callback:function(o){t.$set(t.platform,"goodsend",o)},expression:"platform.goodsend"}}),t._v(" "),e("van-field",{attrs:{label:"收货地","input-align":"right",readonly:"",placeholder:"请选择","right-icon":"arrow"},on:{click:function(o){return t.itemHandler("goodreceive")}},model:{value:t.platform.goodreceive,callback:function(o){t.$set(t.platform,"goodreceive",o)},expression:"platform.goodreceive"}})],1),t._v(" "),e("div",{staticClass:"number",on:{click:t.largeHandler}},[e("div",{staticClass:"labelwrap"},[e("span",[t._v("大件物品数量")]),t._v(" "),e("van-icon",{staticStyle:{display:"none"},attrs:{name:"warning-o",size:"16px"}})],1),t._v(" "),e("van-stepper",{attrs:{min:t.minNumber,"disable-input":"",theme:"round","button-size":"16"},model:{value:t.platform.goodnumber,callback:function(o){t.$set(t.platform,"goodnumber",o)},expression:"platform.goodnumber"}})],1),t._v(" "),e("div",{staticClass:"number numberfix",on:{click:function(o){return t.itemHandler("goodrule")}}},[e("span",[t._v("计费规则说明")]),t._v(" "),e("van-icon",{attrs:{name:"arrow",size:"16",color:"#999999"}})],1)],1),t._v(" "),e("div",{staticClass:"fixedbtn"},[e("van-button",{attrs:{type:"primary",color:"#28ae3a",round:"",block:"",size:"small"},on:{click:t.needHandler}},[t._v("确定")])],1),t._v(" "),e("van-popup",{style:{"min-height":"100px"},attrs:{round:"",position:"bottom"},model:{value:t.unitshow,callback:function(o){t.unitshow=o},expression:"unitshow"}},[e("van-picker",{attrs:{"show-toolbar":"",title:t.unitText,columns:t.columns},on:{cancel:t.cancelHandler,confirm:t.confirmHandler}})],1)],1)},staticRenderFns:[]};var c=e("VU/8")(l,s,!1,function(t){e("l0wr")},"data-v-6fe47c21",null);o.default=c.exports},l0wr:function(t,o){}});
//# sourceMappingURL=15.5b609f7f41b50336cd31.js.map?v=1604223935039