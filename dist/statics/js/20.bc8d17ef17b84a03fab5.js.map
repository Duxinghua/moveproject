{"version":3,"sources":["webpack:///src/pages/need.vue","webpack:///./src/pages/need.vue?c780","webpack:///./src/pages/need.vue?3d8b"],"names":["need","name","components","TopNav","data","priceType","serverArr","otherList","menutext","mounted","this","getOther","localStorage","getItem","JSON","parse","methods","priceTypeChange","e","obj","setItem","stringify_default","serverArrHandler","map","item","sitem","seqId","checked","getPlatformHandler","$router","push","_this","headSeqId","attachType","$api","carStyleDetFindMap","then","result","code","list","keys_default","forEach","value","o","keyValue","needHandler","platform","goodwidth","$toast","goodheight","goodsend","goodreceive","pages_need","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","menu","_v","checked-color","on","change","model","callback","$$v","expression","click","color","size","_l","index","key","_s","catItem","class","price","remarks","_e","type","round","block","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"statics/js/20.bc8d17ef17b84a03fab5.js?v=1604223935039","sourcesContent":["<template>\n  <div class=\"need\">\n      <TopNav :menu=\"menutext\"/>\n    <div class=\"needtitle\">\n      计价方式\n    </div>\n    <div class=\"needprice\">\n      <van-radio-group\n        v-model=\"priceType\"\n        checked-color=\"#28ae3a\"\n        @change=\"priceTypeChange\"\n      >\n        <van-radio name=\"STANDARD\" @click=\"getPlatformHandler\" >\n          <div class=\"payitem\">\n            <span class=\"payname\">平台标准计价</span>\n            <van-icon name=\"warning-o\" color=\"#333333\" size=\"18\"/>\n          </div>\n        </van-radio>\n        <van-radio name=\"DISCUSS\">\n          <div class=\"payitem\">\n            <span class=\"payname\">与司机协商计划</span>\n          </div>\n        </van-radio>\n      </van-radio-group>\n    </div>\n    <div class=\"otherwrap\" v-if=\"otherList.length\">\n      <div class=\"needtitle needtitlefix\">\n        其他服务\n      </div>\n      <van-checkbox-group v-model=\"serverArr\" @change=\"serverArrHandler\">\n        <van-checkbox :name=\"item.seqId\"  checked-color=\"#28ae3a\" v-for=\"(item,index) in otherList\" :key=\"index\">\n          <div class=\"severitem\">\n            <span>{{item.catItem}}</span>\n            <div :class=\"['fee',item.price == 0 ? 'gray': '']\">\n              {{item.remarks}}\n            </div>\n          </div>\n        </van-checkbox>\n      </van-checkbox-group>\n    </div>\n    <div class=\"fixedbtn\">\n      <van-button type=\"primary\" color=\"#28ae3a\" round block size=\"small\" @click=\"needHandler\">确定</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TopNav from '@/components/topnav.vue'\nexport default {\n  name: \"Need\",\n  components:{\n    TopNav\n  },\n  data() {\n    return {\n      priceType:\"DISCUSS\",\n      serverArr:[],\n      otherList:[],\n      menutext:'额外需求'\n    };\n  },\n  mounted(){\n    this.getOther()\n    var need = localStorage.getItem('need')\n    if(need){\n      need = JSON.parse(need)\n      this.priceType = need.priceType\n    }\n  },\n  methods: {\n    priceTypeChange(e){\n      var obj = {}\n      obj.priceType = e\n      localStorage.setItem('need',JSON.stringify(obj))\n    },\n    serverArrHandler(e){\n      localStorage.setItem('serverArr',JSON.stringify(e))\n      var otherList = localStorage.getItem('otherList')\n      if(otherList){\n        otherList = JSON.parse(otherList)\n        otherList.map((item) => {\n           e.map((sitem) => {\n             if(sitem == item.seqId){\n               item.checked = true\n             }\n           })\n        })\n        localStorage.setItem('serverArr',JSON.stringify(otherList))\n      }\n    },\n    getPlatformHandler(){\n       this.$router.push('/platformstandard')\n    },\n    getOther(){\n      var data = {\n        headSeqId:JSON.parse(localStorage.getItem('cartObject')).seqId,\n        attachType:'OTHER'\n      }\n      this.$api.carStyleDetFindMap(data).then((result)=>{\n        if(result.code == 200){\n          var obj = result.data\n          var list = []\n          Object.keys(obj).forEach((value)=>{\n            var o = obj[value][0]\n            o.keyValue = value\n            o.checked = false\n            list.push(o)\n          })\n          this.otherList = list\n          var serverArr = localStorage.getItem('serverArr')\n          if(serverArr){\n            serverArr = JSON.parse(serverArr)\n            this.otherList.map((item) => {\n              serverArr.map((sitem) => {\n                if(item.seqId == sitem){\n                  item.checked = true\n                }\n              })\n            })\n            localStorage.setItem('otherList',JSON.stringify(this.otherList))\n            this.serverArr = serverArr\n          }else{\n            localStorage.setItem('otherList',JSON.stringify(this.otherList))\n          }\n        }\n      })\n    },\n    needHandler(e){\n        if(this.priceType == 'STANDARD'){\n          var platform = localStorage.getItem('platform')\n          if(platform){\n            platform = JSON.parse(platform)\n            if(!platform.goodwidth){\n              return this.$toast('请选择货物最长')\n            }\n            if(!platform.goodheight){\n              return this.$toast('请选择货物最高')\n            }\n            if(!platform.goodsend){\n              return this.$toast('请选择搬运楼层发货地')\n            }\n            if(!platform.goodreceive){\n              return this.$toast('请选择搬运楼层收货地')\n            }\n          }\n\n        }\n        this.$router.push('/confirmorder')\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.need {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background: #f5f6f7;\n  padding:0 30px 30px 30px;\n  box-sizing: border-box;\n  .otherwrap{\n    display: flex;\n    flex-direction: column;\n  }\n  .needtitle{\n    font-size: 18px;\n    color:#999999;\n    margin-top: 30px;\n  }\n  .needtitlefix{\n    margin-bottom: 30px;\n  }\n  .needprice{\n    width:100%;\n    min-height: 100px;\n    background:white;\n    border-radius: 20px;\n    overflow: hidden;\n    padding:0 30px;\n    box-sizing: border-box;\n    margin-top:20px;\n  }\n  /deep/ .van-radio{\n    display: flex;\n    flex-direction: row-reverse;\n    border-bottom: 1px solid #f5f6f7;\n  }\n  /deep/ .van-radio__label {\n    display: flex;\n    flex:1;\n    margin-left:0px;\n    .payitem {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      flex:1;\n      height: 100px;\n      .payname {\n        font-size: 20px;\n        color: #333333;\n        margin-right:20px;\n      }\n    }\n  }\n  /deep/ .van-checkbox-group{\n    display: flex;\n    flex-direction: column;\n    background: white;\n    border-radius: 20px;\n    overflow: hidden;\n  }\n  /deep/ .van-checkbox{\n    display: flex;\n    flex-direction: row-reverse;\n    padding:0 30px;\n    box-sizing: border-box;\n  }\n  /deep/ .van-checkbox__label{\n    flex:1;\n    margin-left:0px!important;\n    .severitem{\n      display: flex;\n      flex-direction: row;\n      height:100px;\n      align-items: center;\n      font-size: 18px;\n      color:#333333;\n      span{\n        margin-right:20px;\n      }\n      .fee{\n        height:40px;\n        line-height: 40px;\n        text-align: center;\n        padding-left:20px;\n        padding-right:20px;\n        border-radius: 20px;\n        border:1px solid #ff561e;\n        color: #ff561e;\n        background:#ffeee8;\n        font-size: 24px;\n      }\n      .gray{\n        border:1px solid #888888;\n        background:white;\n        color:#888888;\n      }\n    }\n  }\n  .fixedbtn{\n    display: flex;\n    padding:0 30px;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    width:100%;\n    height:100px;\n    position: fixed;\n    left:0;\n    bottom: 0;\n    z-index: 2000;\n    background: white;\n  }\n  /deep/ .van-button--small{\n    width:100%;\n    height:80px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/need.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"need\"},[_c('TopNav',{attrs:{\"menu\":_vm.menutext}}),_vm._v(\" \"),_c('div',{staticClass:\"needtitle\"},[_vm._v(\"\\n    计价方式\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"needprice\"},[_c('van-radio-group',{attrs:{\"checked-color\":\"#28ae3a\"},on:{\"change\":_vm.priceTypeChange},model:{value:(_vm.priceType),callback:function ($$v) {_vm.priceType=$$v},expression:\"priceType\"}},[_c('van-radio',{attrs:{\"name\":\"STANDARD\"},on:{\"click\":_vm.getPlatformHandler}},[_c('div',{staticClass:\"payitem\"},[_c('span',{staticClass:\"payname\"},[_vm._v(\"平台标准计价\")]),_vm._v(\" \"),_c('van-icon',{attrs:{\"name\":\"warning-o\",\"color\":\"#333333\",\"size\":\"18\"}})],1)]),_vm._v(\" \"),_c('van-radio',{attrs:{\"name\":\"DISCUSS\"}},[_c('div',{staticClass:\"payitem\"},[_c('span',{staticClass:\"payname\"},[_vm._v(\"与司机协商计划\")])])])],1)],1),_vm._v(\" \"),(_vm.otherList.length)?_c('div',{staticClass:\"otherwrap\"},[_c('div',{staticClass:\"needtitle needtitlefix\"},[_vm._v(\"\\n      其他服务\\n    \")]),_vm._v(\" \"),_c('van-checkbox-group',{on:{\"change\":_vm.serverArrHandler},model:{value:(_vm.serverArr),callback:function ($$v) {_vm.serverArr=$$v},expression:\"serverArr\"}},_vm._l((_vm.otherList),function(item,index){return _c('van-checkbox',{key:index,attrs:{\"name\":item.seqId,\"checked-color\":\"#28ae3a\"}},[_c('div',{staticClass:\"severitem\"},[_c('span',[_vm._v(_vm._s(item.catItem))]),_vm._v(\" \"),_c('div',{class:['fee',item.price == 0 ? 'gray': '']},[_vm._v(\"\\n            \"+_vm._s(item.remarks)+\"\\n          \")])])])}),1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"fixedbtn\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"color\":\"#28ae3a\",\"round\":\"\",\"block\":\"\",\"size\":\"small\"},on:{\"click\":_vm.needHandler}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a255794\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/need.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a255794\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./need.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./need.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./need.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a255794\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./need.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a255794\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/need.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}